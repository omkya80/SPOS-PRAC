package Algo;
import java.io.*;

public class FIFO {
	public static void main(String[] args) throws IOException {

        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

        System.out.print("Enter the number of frames: ");
        int frames = Integer.parseInt(br.readLine());

        System.out.print("Enter the length of the reference string: ");
        int ref_len = Integer.parseInt(br.readLine());

        int[] reference = new int[ref_len];
        System.out.println("Enter the reference string:");
        for (int i = 0; i < ref_len; i++) {
            reference[i] = Integer.parseInt(br.readLine());
        }

        int[] buffer = new int[frames];
        for (int i = 0; i < frames; i++)
            buffer[i] = -1;

        int pointer = 0, hit = 0, fault = 0;

        for (int i = 0; i < ref_len; i++) {
            int currentPage = reference[i];
            boolean isHit = false;

            for (int j = 0; j < frames; j++) {
                if (buffer[j] == currentPage) {
                    hit++;
                    isHit = true;
                    break;
                }
            }

            if (!isHit) {
                buffer[pointer] = currentPage;
                pointer = (pointer + 1) % frames;
                fault++;
            }

            System.out.print("Memory Layout after reference " + currentPage + ": ");
            for (int j = 0; j < frames; j++) {
                if (buffer[j] != -1)
                    System.out.print(buffer[j] + " ");
                else
                    System.out.print("- ");
            }
            System.out.println();
        }

        System.out.println("\nTotal Page Hits: " + hit);
        System.out.println("Total Page Faults: " + fault);
        System.out.printf("Hit Ratio: %.2f\n", (float) hit / ref_len);
    }

}
